DROP TABLE REVIEWS;

DROP TABLE RED_RESTAURANTS;

DROP TABLE RED_USERS;

DROP SEQUENCE USERS_SEQ;

DROP SEQUENCE RESTAURANTS_SEQ;

CREATE SEQUENCE RESTAURANTS_SEQ;

CREATE SEQUENCE USERS_SEQ;

CREATE TABLE RED_RESTAURANTS 
(RESTAURANT_ID INTEGER PRIMARY KEY,
RESTAURANT_NAME VARCHAR2(30),
RESTAURANT_ADDRESS VARCHAR2(30),
SEATS INTEGER,
TYPE_KITCHEN VARCHAR2 (30),
RESTAURANT_FEEDBACK VARCHAR2(5),
PRICE_RANGE VARCHAR2(4));

INSERT INTO RED_RESTAURANTS
VALUES (RESTAURANTS_SEQ.NEXTVAL, 'Chinese home', 'Via Toscana 5', 30, 'Chinese', '*', '$$');

INSERT INTO RED_RESTAURANTS
VALUES (RESTAURANTS_SEQ.NEXTVAL, 'Sicily ndo cori', 'Via Sicilia 18', 50, 'Italian', '*****', '$$$');

INSERT INTO RED_RESTAURANTS
VALUES (RESTAURANTS_SEQ.NEXTVAL, 'Green Irish', 'Via Dublino 86', 18, 'Irish', '***', '$$');

INSERT INTO RED_RESTAURANTS
VALUES (RESTAURANTS_SEQ.NEXTVAL, 'Japanese sushi', 'Via Tokyo 36', 40, 'Japanese', '****', '$$$');

CREATE TABLE RED_USERS
(USER_ID INTEGER PRIMARY KEY,
FIRST_NAME VARCHAR2(30),
LAST_NAME VARCHAR2(30),
RELIABILITY VARCHAR2(5),
NUM_REVIEWS INTEGER);

INSERT INTO RED_USERS 
VALUES (USERS_SEQ.NEXTVAL, 'Giuseppe', 'Adamo', '**', 1);

INSERT INTO RED_USERS 
VALUES (USERS_SEQ.NEXTVAL, 'Lorenzo', 'Barsocchi', '***', 3);

INSERT INTO RED_USERS 
VALUES (USERS_SEQ.NEXTVAL, 'Stefano', 'Farati', '***', 5);

INSERT INTO RED_USERS 
VALUES (USERS_SEQ.NEXTVAL, 'Charles', 'Dorian', '****', 7);

CREATE TABLE REVIEWS
(REVIEW_ID INTEGER PRIMARY KEY,
RESTAURANT_ID INTEGER
CONSTRAINT REVIEWS_RED_RESTAURANTS_FK REFERENCES RED_RESTAURANTS(RESTAURANT_ID) ON DELETE CASCADE,
USER_ID INTEGER
CONSTRAINT REVIEWS_RED_USERS_FK REFERENCES RED_USERS(USER_ID) ON DELETE CASCADE,
REVIEW VARCHAR2(30),
VOTE INTEGER,
LIKES INTEGER,
UNLIKES INTEGER);

INSERT INTO REVIEWS 
VALUES (001, 003, 001, 'non male',4,1,0);

INSERT INTO REVIEWS 
VALUES (002, 002, 001, 'ottimo',4,1,1);

INSERT INTO REVIEWS 
VALUES (003, 002, 004, 'pessimo',2,1,1);



 


